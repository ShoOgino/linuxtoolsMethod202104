	@SuppressWarnings("unchecked")
	public void testGetPlainEvents() {

        final int BLOCK_SIZE = 100;
        final int NB_EVENTS  = 1000;
        final Vector<TmfEvent> requestedEvents = new Vector<TmfEvent>();

        // Get the TmfSyntheticEventStub provider
		ITmfDataProvider<TmfEvent>[] eventProviders = (ITmfDataProvider<TmfEvent>[]) TmfProviderManager.getProviders(TmfEvent.class, TmfEventProviderStub.class);
		ITmfDataProvider<TmfEvent> provider = eventProviders[0];

        TmfTimeRange range = new TmfTimeRange(TmfTimestamp.BigBang, TmfTimestamp.BigCrunch);
        final TmfEventRequest<TmfEvent> request =
        	new TmfEventRequest<TmfEvent>(TmfEvent.class, range, NB_EVENTS, BLOCK_SIZE) {
        	@Override
        	public void handleData(TmfEvent event) {
        	super.handleData(event);
        		requestedEvents.add(event);
        	}
        };
        provider.sendRequest(request);
        try {
			request.waitForCompletion();
	        assertEquals("nbEvents", NB_EVENTS, requestedEvents.size());
	        assertTrue("isCompleted",  request.isCompleted());
	        assertFalse("isCancelled", request.isCancelled());

	        // Make that we have distinct events.
	        // Don't go overboard: we are not validating the stub! 
	        for (int i = 0; i < NB_EVENTS; i++) {
	            assertEquals("Distinct events", i+1, requestedEvents.get(i).getTimestamp().getValue());
	        }
		} catch (InterruptedException e) {
			fail();
		}
	}

