    /**
     * Testcase for Eclipse BugZilla 321905/RedHat BZ
     *
     * @throws CoreException
     */
    @Test
    public void testLaunchExternalProject() throws CoreException {
        LaunchTestingOptions options = new LaunchTestingOptions();
        options.setOprofileProject(externalProject);
        options.loadConfiguration(config);

        TestingOprofileLaunchConfigurationDelegate delegate = new TestingOprofileLaunchConfigurationDelegate();
        ILaunch launch = new Launch(config, ILaunchManager.PROFILE_MODE, null);

        assertTrue(options.isValid());
        assertTrue(options.getBinaryImage().isEmpty());
        assertTrue(options.getKernelImageFile().isEmpty());
        assertEquals(OprofileDaemonOptions.SEPARATE_NONE, options.getSeparateSamples());

        OprofileProject.setProfilingBinary(OprofileProject.OPERF_BINARY);
        delegate.launch(config, ILaunchManager.PROFILE_MODE, launch, null);
    }

